<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mykish Travels | Ellaidhoo Precision 2026</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 p-8 font-sans">
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const seasons2026 = [
            { start: "2026-01-06", end: "2026-04-30", dbl: 418 },
            { start: "2026-05-01", end: "2026-09-30", dbl: 235 },
            { start: "2026-10-01", end: "2026-10-31", dbl: 315 }
        ];

        function App() {
            const [checkIn, setCheckIn] = useState("2026-03-10");
            const [checkOut, setCheckOut] = useState("2026-03-15");
            const [adults, setAdults] = useState(2);
            const [kids, setKids] = useState(2);
            const [markup, setMarkup] = useState(10);
            const [discount, setDiscount] = useState(0);

            const getNights = () => {
                const n = (new Date(checkOut) - new Date(checkIn)) / (1000 * 60 * 60 * 24);
                return n > 0 ? n : 0;
            };

            const getSeasonRate = () => {
                const date = new Date(checkIn);
                return seasons2026.find(s => date >= new Date(s.start) && date <= new Date(s.end))?.dbl || 418;
            };

            const calc = () => {
                const nights = getNights();
                const rate = getSeasonRate();
                const totalPeople = parseInt(adults) + parseInt(kids);
                
                // 1. STAY: Double rate is for the room. 1st & 2nd kids are FREE
                const stayBase = rate * nights;
                const stayAfterDiscount = stayBase * (1 - (discount / 100));

                // 2. TRANSFERS: $250/adult, $125/child
                const transTotal = (adults * 250) + (kids * 125);

                // 3. APPLY MARKUP to (Stay + Transfers)
                const subWithMarkup = (stayAfterDiscount + transTotal) * (1 + (markup / 100));

                // 4. GREEN TAX: $12 per person/night (Fixed)
                const greenTax = 12 * totalPeople * nights;

                return {
                    total: subWithMarkup + greenTax,
                    stay: stayBase,
                    tax: greenTax,
                    trans: transTotal
                };
            };

            const result = calc();

            return (
                <div className="max-w-3xl mx-auto bg-white rounded-[3rem] shadow-2xl overflow-hidden border border-slate-200">
                    <div className="bg-slate-900 p-10 text-white flex justify-between items-center">
                        <div>
                            <h1 className="text-3xl font-black italic tracking-tighter uppercase">Ellaidhoo Maldives</h1>
                            <p className="text-blue-400 text-xs font-bold uppercase tracking-widest mt-1">Winter/Summer 2026 Contract</p>
                        </div>
                        <div className="text-right">
                            <p className="text-5xl font-black text-white">${result.total.toLocaleString(undefined, {minimumFractionDigits: 2})}</p>
                            <p className="text-[10px] font-bold text-blue-400 uppercase tracking-widest mt-2">Final Quotation (All Inclusive of Tax)</p>
                        </div>
                    </div>

                    <div className="p-10 grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div className="space-y-6">
                            <div className="grid grid-cols-2 gap-4">
                                <label className="text-[10px] font-black text-slate-400 uppercase">Check-In<input type="date" value={checkIn} className="block w-full mt-1 p-4 bg-slate-50 rounded-2xl font-bold" onChange={e => setCheckIn(e.target.value)}/></label>
                                <label className="text-[10px] font-black text-slate-400 uppercase">Check-Out<input type="date" value={checkOut} className="block w-full mt-1 p-4 bg-slate-50 rounded-2xl font-bold" onChange={e => setCheckOut(e.target.value)}/></label>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <label className="text-[10px] font-black text-slate-400 uppercase">Adults<input type="number" value={adults} className="block w-full mt-1 p-4 bg-slate-50 rounded-2xl font-bold" onChange={e => setAdults(e.target.value)}/></label>
                                <label className="text-[10px] font-black text-slate-400 uppercase">Children (2-11)<input type="number" value={kids} className="block w-full mt-1 p-4 bg-slate-50 rounded-2xl font-bold" onChange={e => setKids(e.target.value)}/></label>
                            </div>
                            <div className="grid grid-cols-2 gap-4 pt-4">
                                <label className="text-[10px] font-black text-blue-500 uppercase">Markup %<input type="number" value={markup} className="block w-full mt-1 p-4 bg-blue-50 text-blue-700 rounded-2xl font-black" onChange={e => setMarkup(e.target.value)}/></label>
                                <label className="text-[10px] font-black text-green-500 uppercase">Stay Discount %<input type="number" value={discount} className="block w-full mt-1 p-4 bg-green-50 text-green-700 rounded-2xl font-black" onChange={e => setDiscount(e.target.value)}/></label>
                            </div>
                        </div>

                        <div className="bg-slate-50 p-8 rounded-[2rem] space-y-4 border border-slate-100">
                            <h3 className="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">Breakdown</h3>
                            <div className="flex justify-between text-sm font-bold">
                                <span className="text-slate-500">Stay ({getNights()} Nights)</span>
                                <span>${result.stay.toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between text-sm font-bold">
                                <span className="text-slate-500">Transfers (Speedboat)</span>
                                <span>${result.trans.toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between text-sm font-bold text-green-600">
                                <span>Stay Discount ({discount}%)</span>
                                <span>-${(result.stay * (discount / 100)).toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between text-sm font-bold text-blue-600 border-t border-dashed pt-4">
                                <span>Green Tax (Inc. Kids)</span>
                                <span>${result.tax.toLocaleString()}</span>
                            </div>
                            <div className="pt-4 text-[9px] text-slate-400 leading-tight">
                                * 1st & 2nd Child Stay/Dine FREE per contract policy.
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
